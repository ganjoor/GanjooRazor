@page
@model GanjooRazor.Pages.PinModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="fa-IR" dir="rtl">
<head>
    <meta charset="utf-8" />
    <title>پیشنهاد شعر مرتبط با تصویر</title>
    <meta name="robots" content="noindex, nofollow" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link href="/css/p5.css" rel="stylesheet" type="text/css" />
    <link href="/css/spotify.css" rel="stylesheet" type="text/css" />

    <script src="/lib/jquery/dist//jquery.min.js"></script>
    <script>
        function assignEvents() {
            const inputPinterestUrl = document.getElementById('PinterestUrl');
            const inputPinterestImageUrl = document.getElementById('PinterestImageUrl');

            const inputHandler = function (e) {
                if (e.target.value.indexOf("instagram.com") != -1) {
                    inputPinterestImageUrl.value = e.target.value + 'media/?size=l';
                }
            }

            inputPinterestUrl.addEventListener('input', inputHandler);
            inputPinterestUrl.addEventListener('propertychange', inputHandler); // for IE8
        }
    </script>
</head>
<body onload="assignEvents()">
    <div id="fa">
        <div class="poem">
            <div class="content">
                @if (Model.RelatedImageSuggestionModel.PinterestUrl != "manual")
                {
                    <img src="@Html.Raw(Model.RelatedImageSuggestionModel.PinterestImageUrl)" width="400" />
                }

                <form method="post" action="/pin/post.php">
                    <input type="hidden" asp-for="RelatedImageSuggestionModel.GanjoorTitle">
                    <input type="hidden" asp-for="RelatedImageSuggestionModel.PoemId">
                    <input type="hidden" asp-for="RelatedImageSuggestionModel.GanjoorUrl">

                    <span class="inputlabel">نشانی سایت منبع (در این صفحه می‌بایست تصویر دیده شود): </span><input type="text" asp-for="RelatedImageSuggestionModel.PinterestUrl" style="direction:ltr" size="50">
                    <span class="inputlabel">نشانی تصویر (در مرحلهٔ بعد با توجه به این نشانی باید تصویر نمایش داده شود): </span><input type="text" asp-for="RelatedImageSuggestionModel.PinterestImageUrl" style="direction:ltr" size="50">
                    <br />
                    <span class="inputlabel">توضیحات (<small>می‌توانید اطلاعاتی مانند نام هنرمند و ... را اضافه کنید.</small>):</span>
                    <textarea asp-for="RelatedImageSuggestionModel.AltText" rows="10" cols="50"></textarea>
                    <input type="submit" name="pinterest_suggest" value="پیشنهاد" style="background-color:red;color:white">
                </form>


            </div>

        </div>
    </div>
</body>
</html>